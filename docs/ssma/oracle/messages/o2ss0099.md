---
title: 'O2SS0099: no se admite la sección ROWNUM en la cláusula ORDER BY (error)'
description: Trata algunos de los motivos por los que SQL Server Migration Assistant (SSMA) para Oracle no puede convertir una instrucción que contenga la de Oracle ROWNUM en la cláusula ORDER BY.
authors: nahk-ivanov
ms.service: ssma
ms.devlang: sql
ms.topic: article
ms.date: 1/22/2020
ms.author: alexiva
ms.openlocfilehash: 568f24f3a13470bbae448e49137d7bda71b68726
ms.sourcegitcommit: e042272a38fb646df05152c676e5cbeae3f9cd13
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/27/2020
ms.locfileid: "76762619"
---
# <a name="o2ss0099-rownum-in-order-by-clause-is-not-supported-error"></a>O2SS0099: no se admite la sección ROWNUM en la cláusula ORDER BY (error)

En este artículo se tratan algunos de los motivos por los que SQL Server Migration Assistant (SSMA) para Oracle no puede convertir una `ROWNUM` instrucción `ORDER BY` que contenga la cláusula in de Oracle.

## <a name="background"></a>Segundo plano

La pseudocolumna `ROWNUM` de Oracle devuelve un número que indica el orden en el que se seleccionó una fila de una tabla. La primera fila seleccionada tiene un `ROWNUM` de `1`; la segunda fila tiene un `ROWNUM` de `2`, y así sucesivamente.

Al convertir la `ROWNUM` cláusula `ORDER BY` in, SSMA usa la `ROW_NUMBER()` técnica de emulación en la mayoría de los casos sin error. Sin embargo, si `ORDER BY` la cláusula se usa como parte de `UNION` una consulta, SSMA genera un mensaje de error.

## <a name="example"></a>Ejemplo

Considere el ejemplo siguiente:

```sql
SELECT city
FROM customers

UNION

SELECT city
FROM employees
ORDER BY ROWNUM;
```

Al intentar convertir el código anterior en SSMA, se genera el siguiente mensaje de error:

> O2SS0099: no se admite la sección ROWNUM en la cláusula ORDER BY

## <a name="possible-remedies"></a>Posibles soluciones

La solución consiste en simplificar la expresión mediante la creación de una subconsulta con paréntesis. Al crear la subconsulta, se `ROWNUM` separa `ORDER BY` la cláusula in `UNION` con la cláusula, lo que lo convierte en una expresión más sencilla. A continuación se muestra el ejemplo de la consulta simplificada:

```sql
SELECT
    city
FROM
    (SELECT city FROM customers
     UNION
     SELECT city FROM employees)
ORDER BY
    ROWNUM;
```

## <a name="related-conversion-messages"></a>Mensajes de conversión relacionados

* [O2SS0021: instrucción con ROWNUM no convertido](o2ss0021.md)
* O2SS0039: no se puede convertir pseudocolumna de ROWNUM
* O2SS0081: asterisco no compatible y ROWNUM en las instrucciones SELECT
* O2SS0412: no se puede convertir ROWNUM con GROUPing SETS

En la mayoría de estas situaciones, considere qué está intentando realizar la consulta y vuelva a escribirla para `ROW_NUMBER()` usar la `TOP` emulación, la cláusula o use una expresión `WHERE`única `GROUP BY`para las `ORDER BY` cláusulas, o.
